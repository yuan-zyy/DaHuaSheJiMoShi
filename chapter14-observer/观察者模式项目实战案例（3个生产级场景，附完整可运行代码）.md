# è§‚å¯Ÿè€…æ¨¡å¼é¡¹ç›®å®æˆ˜æ¡ˆä¾‹ï¼ˆ3ä¸ªç”Ÿäº§çº§åœºæ™¯ï¼Œé™„å®Œæ•´å¯è¿è¡Œä»£ç ï¼‰

è§‚å¯Ÿè€…æ¨¡å¼çš„æ ¸å¿ƒä»·å€¼æ˜¯**è§£è€¦äº‹ä»¶å‘å¸ƒè€…ä¸è®¢é˜…è€…**ï¼Œå®ç°ã€Œä¸€æ–¹çŠ¶æ€å˜æ›´ï¼Œå¤šæ–¹è‡ªåŠ¨æ„ŸçŸ¥ã€ã€‚ä»¥ä¸‹æä¾› 3 ä¸ªè´´è¿‘ç”Ÿäº§ç¯å¢ƒçš„å®æˆ˜æ¡ˆä¾‹ï¼Œè¦†ç›–ã€Œç³»ç»Ÿç›‘æ§ã€ã€Œä¸šåŠ¡é€šçŸ¥ã€ã€Œé…ç½®å˜æ›´ã€ä¸‰å¤§é«˜é¢‘åœºæ™¯ï¼Œå‡é™„å®Œæ•´ä»£ç å’Œè¿è¡Œè¯´æ˜ã€‚

## ä¸€ã€ å®æˆ˜æ¡ˆä¾‹1ï¼šç³»ç»Ÿè¿è¡ŒçŠ¶æ€ç›‘æ§ï¼ˆæ ¸å¿ƒï¼šåŒæ­¥é€šçŸ¥ + å¤šè§‚å¯Ÿè€…ç›‘å¬ï¼‰

### 1. åœºæ™¯æè¿°

åœ¨åç«¯ç³»ç»Ÿä¸­ï¼Œéœ€è¦å®æ—¶ç›‘æ§åº”ç”¨çš„è¿è¡ŒçŠ¶æ€ï¼ˆå¦‚ CPU ä½¿ç”¨ç‡ã€å†…å­˜å ç”¨ã€ç£ç›˜ä½¿ç”¨ç‡ï¼‰ï¼Œå½“æŸé¡¹æŒ‡æ ‡è¶…è¿‡é˜ˆå€¼æ—¶ï¼ŒåŒæ—¶é€šçŸ¥ã€Œæ—¥å¿—è®°å½•å™¨ã€ã€Œå‘Šè­¦æ¨é€å™¨ã€ã€Œç›‘æ§é¢æ¿ã€ï¼Œå®ç°å¤šç»´åº¦å‘Šè­¦ä¸è®°å½•ï¼Œæ— éœ€ä¿®æ”¹ç›‘æ§æ ¸å¿ƒé€»è¾‘å³å¯æ‰©å±•é€šçŸ¥æ–¹å¼ã€‚

### 2. æ ¸å¿ƒè§’è‰²å¯¹åº”

|è§‚å¯Ÿè€…æ¨¡å¼è§’è‰²|æœ¬æ¡ˆä¾‹ç»„ä»¶|ä½œç”¨|
|---|---|---|
|æŠ½è±¡è¢«è§‚å¯Ÿè€…ï¼ˆSubjectï¼‰|`SystemMonitor`ï¼ˆç³»ç»Ÿç›‘æ§æ ¸å¿ƒï¼‰|å®šä¹‰æ³¨å†Œã€ç§»é™¤è§‚å¯Ÿè€…ï¼Œå‘å¸ƒäº‹ä»¶çš„æ¥å£|
|å…·ä½“è¢«è§‚å¯Ÿè€…ï¼ˆConcreteSubjectï¼‰|`LocalSystemMonitor`ï¼ˆæœ¬åœ°ç³»ç»Ÿç›‘æ§ï¼‰|å®æ—¶é‡‡é›†ç³»ç»ŸçŠ¶æ€ï¼ŒæŒ‡æ ‡è¶…æ ‡æ—¶å‘å¸ƒå‘Šè­¦äº‹ä»¶|
|æŠ½è±¡è§‚å¯Ÿè€…ï¼ˆObserverï¼‰|`SystemStatusListener`ï¼ˆçŠ¶æ€ç›‘å¬å™¨ï¼‰|å®šä¹‰å¤„ç†ç³»ç»ŸçŠ¶æ€äº‹ä»¶çš„ç»Ÿä¸€æ¥å£|
|å…·ä½“è§‚å¯Ÿè€…1ï¼ˆConcreteObserverï¼‰|`LogStatusListener`ï¼ˆæ—¥å¿—è®°å½•è§‚å¯Ÿè€…ï¼‰|å°†å‘Šè­¦äº‹ä»¶å†™å…¥æœ¬åœ°æ—¥å¿—|
|å…·ä½“è§‚å¯Ÿè€…2ï¼ˆConcreteObserverï¼‰|`AlarmStatusListener`ï¼ˆå‘Šè­¦æ¨é€è§‚å¯Ÿè€…ï¼‰|å°†å‘Šè­¦äº‹ä»¶æ¨é€ç»™é’‰é’‰/ä¼ä¸šå¾®ä¿¡ï¼ˆæ¨¡æ‹Ÿï¼‰|
|å…·ä½“è§‚å¯Ÿè€…3ï¼ˆConcreteObserverï¼‰|`DashboardStatusListener`ï¼ˆé¢æ¿å±•ç¤ºè§‚å¯Ÿè€…ï¼‰|å°†å‘Šè­¦äº‹ä»¶å®æ—¶æ›´æ–°åˆ°ç›‘æ§é¢æ¿ï¼ˆæ§åˆ¶å°æ¨¡æ‹Ÿï¼‰|
|äº‹ä»¶è½½ä½“|`SystemStatusEvent`ï¼ˆç³»ç»ŸçŠ¶æ€äº‹ä»¶ï¼‰|å°è£…ç›‘æ§æŒ‡æ ‡ã€é˜ˆå€¼ã€å‘Šè­¦çº§åˆ«ç­‰ä¿¡æ¯|
### 3. å®Œæ•´ä»£ç å®ç°

#### ï¼ˆ1ï¼‰ äº‹ä»¶è½½ä½“ï¼šSystemStatusEvent

```java

import java.util.Date;

/**
 * ç³»ç»ŸçŠ¶æ€äº‹ä»¶ï¼šå°è£…ç›‘æ§æ•°æ®å’Œå‘Šè­¦ä¿¡æ¯
 */
public class SystemStatusEvent {
    // ç›‘æ§æŒ‡æ ‡ç±»å‹
    public enum MetricType {CPU_USAGE, MEMORY_USAGE, DISK_USAGE}
    // å‘Šè­¦çº§åˆ«
    public enum AlarmLevel {INFO, WARNING, ERROR}

    private MetricType metricType; // æŒ‡æ ‡ç±»å‹
    private double currentValue;    // å½“å‰å€¼ï¼ˆç™¾åˆ†æ¯”ï¼‰
    private double threshold;       // é˜ˆå€¼
    private AlarmLevel alarmLevel;  // å‘Šè­¦çº§åˆ«
    private Date occurTime;         // å‘ç”Ÿæ—¶é—´

    public SystemStatusEvent(MetricType metricType, double currentValue, double threshold, AlarmLevel alarmLevel) {
        this.metricType = metricType;
        this.currentValue = currentValue;
        this.threshold = threshold;
        this.alarmLevel = alarmLevel;
        this.occurTime = new Date();
    }

    // Getter æ–¹æ³•
    public MetricType getMetricType() { return metricType; }
    public double getCurrentValue() { return currentValue; }
    public double getThreshold() { return threshold; }
    public AlarmLevel getAlarmLevel() { return alarmLevel; }
    public Date getOccurTime() { return occurTime; }

    @Override
    public String toString() {
        return String.format("[%s] æŒ‡æ ‡ç±»å‹ï¼š%sï¼Œå½“å‰å€¼ï¼š%.2f%%ï¼Œé˜ˆå€¼ï¼š%.2f%%ï¼Œå‘Šè­¦çº§åˆ«ï¼š%s",
                occurTime, metricType, currentValue, threshold, alarmLevel);
    }
}
```

#### ï¼ˆ2ï¼‰ æŠ½è±¡è§‚å¯Ÿè€…ï¼šSystemStatusListener

```java

/**
 * ç³»ç»ŸçŠ¶æ€ç›‘å¬å™¨ï¼ˆæŠ½è±¡è§‚å¯Ÿè€…ï¼‰
 */
public interface SystemStatusListener {
    /**
     * å¤„ç†ç³»ç»ŸçŠ¶æ€äº‹ä»¶
     * @param event ç³»ç»ŸçŠ¶æ€äº‹ä»¶
     */
    void onStatusChange(SystemStatusEvent event);
}
```

#### ï¼ˆ3ï¼‰ å…·ä½“è§‚å¯Ÿè€…å®ç°

```java

import java.io.FileWriter;
import java.io.IOException;
import java.io.PrintWriter;

/**
 * å…·ä½“è§‚å¯Ÿè€…1ï¼šæ—¥å¿—è®°å½•å™¨ - å°†å‘Šè­¦äº‹ä»¶å†™å…¥æ–‡ä»¶
 */
public class LogStatusListener implements SystemStatusListener {
    private static final String LOG_PATH = "system_status_alarm.log";

    @Override
    public void onStatusChange(SystemStatusEvent event) {
        // æ¨¡æ‹Ÿæ—¥å¿—å†™å…¥
        try (PrintWriter writer = new PrintWriter(new FileWriter(LOG_PATH, true))) {
            writer.println("ã€æ—¥å¿—è®°å½•ã€‘" + event);
            System.out.println("âœ… æ—¥å¿—è®°å½•æˆåŠŸï¼š" + event);
        } catch (IOException e) {
            System.err.println("âŒ æ—¥å¿—è®°å½•å¤±è´¥ï¼š" + e.getMessage());
        }
    }
}

/**
 * å…·ä½“è§‚å¯Ÿè€…2ï¼šå‘Šè­¦æ¨é€å™¨ - æ¨¡æ‹Ÿæ¨é€ç»™é’‰é’‰/ä¼ä¸šå¾®ä¿¡
 */
public class AlarmStatusListener implements SystemStatusListener {
    @Override
    public void onStatusChange(SystemStatusEvent event) {
        // æ¨¡æ‹Ÿé’‰é’‰æœºå™¨äººæ¨é€
        String alarmMsg = String.format("ã€ç³»ç»Ÿå‘Šè­¦ã€‘%sï¼Œè¯·åŠæ—¶å¤„ç†ï¼è¯¦æƒ…ï¼š%s",
                event.getAlarmLevel(), event);
        // å®é™…åœºæ™¯ä¸­å¯è°ƒç”¨é’‰é’‰APIå‘é€HTTPè¯·æ±‚
        System.out.println("ğŸ“¢ å‘Šè­¦æ¨é€æˆåŠŸï¼š" + alarmMsg);
    }
}

/**
 * å…·ä½“è§‚å¯Ÿè€…3ï¼šç›‘æ§é¢æ¿ - å®æ—¶å±•ç¤ºå‘Šè­¦ä¿¡æ¯
 */
public class DashboardStatusListener implements SystemStatusListener {
    @Override
    public void onStatusChange(SystemStatusEvent event) {
        // æ¨¡æ‹Ÿç›‘æ§é¢æ¿æ›´æ–°
        System.out.println("ğŸ“Š ç›‘æ§é¢æ¿æ›´æ–°ï¼š" + event);
    }
}
```

#### ï¼ˆ4ï¼‰ æŠ½è±¡è¢«è§‚å¯Ÿè€…ï¼šSystemMonitor

```java

import java.util.List;

/**
 * ç³»ç»Ÿç›‘æ§æ ¸å¿ƒï¼ˆæŠ½è±¡è¢«è§‚å¯Ÿè€…ï¼‰
 */
public interface SystemMonitor {
    // æ³¨å†Œè§‚å¯Ÿè€…
    void registerListener(SystemStatusListener listener);
    // ç§»é™¤è§‚å¯Ÿè€…
    void removeListener(SystemStatusListener listener);
    // å‘å¸ƒç³»ç»ŸçŠ¶æ€äº‹ä»¶
    void publishStatusEvent(SystemStatusEvent event);
    // å¯åŠ¨ç›‘æ§
    void startMonitor();
}
```

#### ï¼ˆ5ï¼‰ å…·ä½“è¢«è§‚å¯Ÿè€…ï¼šLocalSystemMonitor

```java

import java.util.ArrayList;
import java.util.List;
import java.util.Random;
import java.util.concurrent.Executors;
import java.util.concurrent.ScheduledExecutorService;
import java.util.concurrent.TimeUnit;

/**
 * æœ¬åœ°ç³»ç»Ÿç›‘æ§ï¼ˆå…·ä½“è¢«è§‚å¯Ÿè€…ï¼‰- å®æ—¶é‡‡é›†æŒ‡æ ‡å¹¶å‘å¸ƒäº‹ä»¶
 */
public class LocalSystemMonitor implements SystemMonitor {
    // è§‚å¯Ÿè€…åˆ—è¡¨
    private List<SystemStatusListener> listenerList = new ArrayList<>();
    // è°ƒåº¦çº¿ç¨‹æ± ï¼šå®šæ—¶é‡‡é›†æŒ‡æ ‡
    private ScheduledExecutorService scheduler = Executors.newSingleThreadScheduledExecutor();
    // éšæœºæ•°ï¼šæ¨¡æ‹ŸæŒ‡æ ‡æ³¢åŠ¨
    private Random random = new Random();

    @Override
    public void registerListener(SystemStatusListener listener) {
        if (!listenerList.contains(listener)) {
            listenerList.add(listener);
        }
    }

    @Override
    public void removeListener(SystemStatusListener listener) {
        listenerList.remove(listener);
    }

    @Override
    public void publishStatusEvent(SystemStatusEvent event) {
        // éå†æ‰€æœ‰è§‚å¯Ÿè€…ï¼ŒåŒæ­¥åˆ†å‘äº‹ä»¶
        for (SystemStatusListener listener : listenerList) {
            listener.onStatusChange(event);
        }
    }

    @Override
    public void startMonitor() {
        System.out.println("ğŸš€ æœ¬åœ°ç³»ç»Ÿç›‘æ§å¯åŠ¨ï¼Œæ¯3ç§’é‡‡é›†ä¸€æ¬¡æŒ‡æ ‡...");
        // æ¯3ç§’é‡‡é›†ä¸€æ¬¡ç³»ç»ŸæŒ‡æ ‡
        scheduler.scheduleAtFixedRate(this::collectSystemMetrics, 0, 3, TimeUnit.SECONDS);
    }

    /**
     * é‡‡é›†ç³»ç»ŸæŒ‡æ ‡ï¼ˆæ¨¡æ‹Ÿï¼‰
     */
    private void collectSystemMetrics() {
        // 1. æ¨¡æ‹ŸCPUä½¿ç”¨ç‡é‡‡é›†ï¼ˆ0-100ï¼‰
        double cpuUsage = random.nextDouble() * 100;
        // 2. æ¨¡æ‹Ÿå†…å­˜ä½¿ç”¨ç‡é‡‡é›†ï¼ˆ0-100ï¼‰
        double memoryUsage = random.nextDouble() * 100;
        // 3. æ¨¡æ‹Ÿç£ç›˜ä½¿ç”¨ç‡é‡‡é›†ï¼ˆ0-100ï¼‰
        double diskUsage = random.nextDouble() * 100;

        // é˜ˆå€¼åˆ¤æ–­ï¼šè¶…è¿‡80%åˆ™å‘å¸ƒWARNINGäº‹ä»¶ï¼Œè¶…è¿‡90%å‘å¸ƒERRORäº‹ä»¶
        if (cpuUsage > 80) {
            SystemStatusEvent.AlarmLevel level = cpuUsage > 90 ? SystemStatusEvent.AlarmLevel.ERROR : SystemStatusEvent.AlarmLevel.WARNING;
            publishStatusEvent(new SystemStatusEvent(SystemStatusEvent.MetricType.CPU_USAGE, cpuUsage, 80, level));
        }
        if (memoryUsage > 80) {
            SystemStatusEvent.AlarmLevel level = memoryUsage > 90 ? SystemStatusEvent.AlarmLevel.ERROR : SystemStatusEvent.AlarmLevel.WARNING;
            publishStatusEvent(new SystemStatusEvent(SystemStatusEvent.MetricType.MEMORY_USAGE, memoryUsage, 80, level));
        }
        if (diskUsage > 80) {
            SystemStatusEvent.AlarmLevel level = diskUsage > 90 ? SystemStatusEvent.AlarmLevel.ERROR : SystemStatusEvent.AlarmLevel.WARNING;
            publishStatusEvent(new SystemStatusEvent(SystemStatusEvent.MetricType.DISK_USAGE, diskUsage, 80, level));
        }
    }

    /**
     * åœæ­¢ç›‘æ§
     */
    public void stopMonitor() {
        scheduler.shutdown();
        System.out.println("ğŸ›‘ æœ¬åœ°ç³»ç»Ÿç›‘æ§åœæ­¢");
    }
}
```

#### ï¼ˆ6ï¼‰ æµ‹è¯•ä¸»ç±»

```java

public class SystemMonitorTest {
    public static void main(String[] args) throws InterruptedException {
        // 1. åˆ›å»ºå…·ä½“è¢«è§‚å¯Ÿè€…
        SystemMonitor systemMonitor = new LocalSystemMonitor();

        // 2. åˆ›å»ºå…·ä½“è§‚å¯Ÿè€…å¹¶æ³¨å†Œ
        systemMonitor.registerListener(new LogStatusListener());
        systemMonitor.registerListener(new AlarmStatusListener());
        systemMonitor.registerListener(new DashboardStatusListener());

        // 3. å¯åŠ¨ç›‘æ§
        systemMonitor.startMonitor();

        // 4. è¿è¡Œ10ç§’ååœæ­¢
        TimeUnit.SECONDS.sleep(10);
        ((LocalSystemMonitor) systemMonitor).stopMonitor();
    }
}
```

### 4. è¿è¡Œæ•ˆæœ

1. æ§åˆ¶å°è¾“å‡ºç›‘æ§å¯åŠ¨ä¿¡æ¯ï¼Œæ¯3ç§’é‡‡é›†ä¸€æ¬¡æŒ‡æ ‡

2. å½“æŒ‡æ ‡è¶…è¿‡80%æ—¶ï¼Œä¸‰ä¸ªè§‚å¯Ÿè€…åŒæ—¶è§¦å‘å›è°ƒï¼Œåˆ†åˆ«è¾“å‡ºã€Œæ—¥å¿—è®°å½•ã€ã€Œå‘Šè­¦æ¨é€ã€ã€Œé¢æ¿æ›´æ–°ã€ä¿¡æ¯

3. è‡ªåŠ¨ç”Ÿæˆ `system_status_alarm.log` æ–‡ä»¶ï¼Œè®°å½•å‘Šè­¦äº‹ä»¶è¯¦æƒ…

4. 10ç§’åç›‘æ§è‡ªåŠ¨åœæ­¢

### 5. ç”Ÿäº§ç¯å¢ƒæ‰©å±•

- æ›¿æ¢ `collectSystemMetrics` æ–¹æ³•ï¼šä½¿ç”¨ `java.lang.management` åŒ…è·å–çœŸå®ç³»ç»ŸæŒ‡æ ‡

- æ‰©å±•è§‚å¯Ÿè€…ï¼šæ·»åŠ  `EmailAlarmListener`ï¼ˆé‚®ä»¶å‘Šè­¦ï¼‰ã€`SmsAlarmListener`ï¼ˆçŸ­ä¿¡å‘Šè­¦ï¼‰

- ä¼˜åŒ–äº‹ä»¶åˆ†å‘ï¼šä½¿ç”¨çº¿ç¨‹æ± å®ç°å¼‚æ­¥åˆ†å‘ï¼Œé¿å…é˜»å¡ç›‘æ§é‡‡é›†çº¿ç¨‹

## äºŒã€ å®æˆ˜æ¡ˆä¾‹2ï¼šç”µå•†è®¢å•çŠ¶æ€å˜æ›´é€šçŸ¥ï¼ˆæ ¸å¿ƒï¼šå¼‚æ­¥é€šçŸ¥ + ä¸šåŠ¡è§£è€¦ï¼‰

### 1. åœºæ™¯æè¿°

ç”µå•†ç³»ç»Ÿä¸­ï¼Œè®¢å•çŠ¶æ€ï¼ˆå¾…ä»˜æ¬¾â†’å·²ä»˜æ¬¾â†’å¾…å‘è´§â†’å·²å‘è´§â†’å·²å®Œæˆï¼‰å˜æ›´æ—¶ï¼Œéœ€è¦è§¦å‘ä¸€ç³»åˆ—ä¸šåŠ¡æ“ä½œï¼š

- è®¢å•å·²ä»˜æ¬¾ï¼šé€šçŸ¥åº“å­˜ç³»ç»Ÿæ‰£å‡åº“å­˜ã€é€šçŸ¥è´¢åŠ¡ç³»ç»Ÿç”Ÿæˆè´¦å•

- è®¢å•å·²å‘è´§ï¼šé€šçŸ¥ç‰©æµç³»ç»Ÿç”Ÿæˆè¿å•ã€é€šçŸ¥ç”¨æˆ·æ¨é€çŸ­ä¿¡

- è®¢å•å·²å®Œæˆï¼šé€šçŸ¥è¯„ä»·ç³»ç»Ÿç”Ÿæˆå¾…è¯„ä»·ä»»åŠ¡ã€é€šçŸ¥æ•°æ®åˆ†æç³»ç»Ÿç»Ÿè®¡è®¢å•æ•°æ®

ä½¿ç”¨è§‚å¯Ÿè€…æ¨¡å¼ï¼Œè®¢å•æœåŠ¡æ— éœ€è€¦åˆåº“å­˜ã€è´¢åŠ¡ã€ç‰©æµç­‰ç³»ç»Ÿï¼Œä»…éœ€å‘å¸ƒçŠ¶æ€å˜æ›´äº‹ä»¶ï¼Œå„ç³»ç»Ÿè‡ªè¡Œç›‘å¬å¤„ç†ã€‚

### 2. æ ¸å¿ƒè§’è‰²å¯¹åº”

|è§‚å¯Ÿè€…æ¨¡å¼è§’è‰²|æœ¬æ¡ˆä¾‹ç»„ä»¶|ä½œç”¨|
|---|---|---|
|æŠ½è±¡è¢«è§‚å¯Ÿè€…|`OrderService`ï¼ˆè®¢å•æœåŠ¡ï¼‰|å®šä¹‰è®¢å•çŠ¶æ€å˜æ›´äº‹ä»¶çš„å‘å¸ƒæ¥å£|
|å…·ä½“è¢«è§‚å¯Ÿè€…|`LocalOrderService`ï¼ˆæœ¬åœ°è®¢å•æœåŠ¡ï¼‰|å¤„ç†è®¢å•çŠ¶æ€å˜æ›´ï¼Œå‘å¸ƒäº‹ä»¶|
|æŠ½è±¡è§‚å¯Ÿè€…|`OrderStatusListener`ï¼ˆè®¢å•çŠ¶æ€ç›‘å¬å™¨ï¼‰|å®šä¹‰è®¢å•çŠ¶æ€å˜æ›´å¤„ç†æ¥å£|
|å…·ä½“è§‚å¯Ÿè€…1|`StockListener`ï¼ˆåº“å­˜è§‚å¯Ÿè€…ï¼‰|è®¢å•ä»˜æ¬¾åæ‰£å‡åº“å­˜|
|å…·ä½“è§‚å¯Ÿè€…2|`FinanceListener`ï¼ˆè´¢åŠ¡è§‚å¯Ÿè€…ï¼‰|è®¢å•ä»˜æ¬¾åç”Ÿæˆè´¦å•|
|å…·ä½“è§‚å¯Ÿè€…3|`LogisticsListener`ï¼ˆç‰©æµè§‚å¯Ÿè€…ï¼‰|è®¢å•å‘è´§åç”Ÿæˆè¿å•|
|å…·ä½“è§‚å¯Ÿè€…4|`UserNotifyListener`ï¼ˆç”¨æˆ·é€šçŸ¥è§‚å¯Ÿè€…ï¼‰|è®¢å•å‘è´§åæ¨é€çŸ­ä¿¡ç»™ç”¨æˆ·|
|äº‹ä»¶è½½ä½“|`OrderStatusEvent`ï¼ˆè®¢å•çŠ¶æ€äº‹ä»¶ï¼‰|å°è£…è®¢å•IDã€åŸçŠ¶æ€ã€æ–°çŠ¶æ€ç­‰ä¿¡æ¯|
### 3. æ ¸å¿ƒä»£ç å®ç°ï¼ˆå…³é”®éƒ¨åˆ†ï¼‰

#### ï¼ˆ1ï¼‰ äº‹ä»¶è½½ä½“ä¸æšä¸¾

```java

import java.util.Date;

/**
 * è®¢å•çŠ¶æ€æšä¸¾
 */
public enum OrderStatus {
    PENDING_PAYMENT("å¾…ä»˜æ¬¾"),
    PAID("å·²ä»˜æ¬¾"),
    PENDING_DELIVERY("å¾…å‘è´§"),
    DELIVERED("å·²å‘è´§"),
    COMPLETED("å·²å®Œæˆ"),
    CANCELLED("å·²å–æ¶ˆ");

    private String desc;

    OrderStatus(String desc) {
        this.desc = desc;
    }

    public String getDesc() {
        return desc;
    }
}

/**
 * è®¢å•çŠ¶æ€äº‹ä»¶
 */
public class OrderStatusEvent {
    private String orderId;        // è®¢å•ID
    private OrderStatus oldStatus;  // åŸçŠ¶æ€
    private OrderStatus newStatus;  // æ–°çŠ¶æ€
    private Date changeTime;       // å˜æ›´æ—¶é—´
    private String userId;         // ç”¨æˆ·ID

    public OrderStatusEvent(String orderId, OrderStatus oldStatus, OrderStatus newStatus, String userId) {
        this.orderId = orderId;
        this.oldStatus = oldStatus;
        this.newStatus = newStatus;
        this.changeTime = new Date();
        this.userId = userId;
    }

    // Getter æ–¹æ³•
    public String getOrderId() { return orderId; }
    public OrderStatus getOldStatus() { return oldStatus; }
    public OrderStatus getNewStatus() { return newStatus; }
    public Date getChangeTime() { return changeTime; }
    public String getUserId() { return userId; }

    @Override
    public String toString() {
        return String.format("è®¢å•[%s] çŠ¶æ€å˜æ›´ï¼š%s â†’ %sï¼ˆç”¨æˆ·IDï¼š%sï¼Œå˜æ›´æ—¶é—´ï¼š%sï¼‰",
                orderId, oldStatus.getDesc(), newStatus.getDesc(), userId, changeTime);
    }
}
```

#### ï¼ˆ2ï¼‰ æŠ½è±¡è§‚å¯Ÿè€…ä¸å…·ä½“è§‚å¯Ÿè€…

```java

/**
 * è®¢å•çŠ¶æ€ç›‘å¬å™¨ï¼ˆæŠ½è±¡è§‚å¯Ÿè€…ï¼‰
 */
public interface OrderStatusListener {
    void onOrderStatusChange(OrderStatusEvent event);
}

/**
 * å…·ä½“è§‚å¯Ÿè€…1ï¼šåº“å­˜è§‚å¯Ÿè€… - æ‰£å‡åº“å­˜
 */
public class StockListener implements OrderStatusListener {
    @Override
    public void onOrderStatusChange(OrderStatusEvent event) {
        // ä»…å¤„ç†ã€Œå¾…ä»˜æ¬¾â†’å·²ä»˜æ¬¾ã€çš„çŠ¶æ€å˜æ›´
        if (event.getOldStatus() == OrderStatus.PENDING_PAYMENT && event.getNewStatus() == OrderStatus.PAID) {
            System.out.println("ğŸ“¦ åº“å­˜æœåŠ¡ï¼šè®¢å•[" + event.getOrderId() + "]å·²ä»˜æ¬¾ï¼Œæ‰£å‡å¯¹åº”å•†å“åº“å­˜");
            // å®é™…åœºæ™¯ï¼šè°ƒç”¨åº“å­˜ç³»ç»ŸAPIæ‰£å‡åº“å­˜
        }
    }
}

/**
 * å…·ä½“è§‚å¯Ÿè€…2ï¼šè´¢åŠ¡è§‚å¯Ÿè€… - ç”Ÿæˆè´¦å•
 */
public class FinanceListener implements OrderStatusListener {
    @Override
    public void onOrderStatusChange(OrderStatusEvent event) {
        if (event.getOldStatus() == OrderStatus.PENDING_PAYMENT && event.getNewStatus() == OrderStatus.PAID) {
            System.out.println("ğŸ’° è´¢åŠ¡æœåŠ¡ï¼šè®¢å•[" + event.getOrderId() + "]å·²ä»˜æ¬¾ï¼Œç”Ÿæˆæ”¶æ¬¾è´¦å•");
            // å®é™…åœºæ™¯ï¼šè°ƒç”¨è´¢åŠ¡ç³»ç»ŸAPIç”Ÿæˆè´¦å•
        }
    }
}

/**
 * å…·ä½“è§‚å¯Ÿè€…3ï¼šç‰©æµè§‚å¯Ÿè€… - ç”Ÿæˆè¿å•
 */
public class LogisticsListener implements OrderStatusListener {
    @Override
    public void onOrderStatusChange(OrderStatusEvent event) {
        if (event.getOldStatus() == OrderStatus.PENDING_DELIVERY && event.getNewStatus() == OrderStatus.DELIVERED) {
            System.out.println("ğŸšš ç‰©æµæœåŠ¡ï¼šè®¢å•[" + event.getOrderId() + "]å·²å‘è´§ï¼Œç”Ÿæˆè¿å•ï¼ˆè¿å•å·ï¼šYD" + System.currentTimeMillis() + "ï¼‰");
            // å®é™…åœºæ™¯ï¼šè°ƒç”¨ç‰©æµç³»ç»ŸAPIç”Ÿæˆè¿å•
        }
    }
}

/**
 * å…·ä½“è§‚å¯Ÿè€…4ï¼šç”¨æˆ·é€šçŸ¥è§‚å¯Ÿè€… - æ¨é€çŸ­ä¿¡
 */
public class UserNotifyListener implements OrderStatusListener {
    @Override
    public void onOrderStatusChange(OrderStatusEvent event) {
        if (event.getOldStatus() == OrderStatus.PENDING_DELIVERY && event.getNewStatus() == OrderStatus.DELIVERED) {
            System.out.println("ğŸ“± ç”¨æˆ·é€šçŸ¥ï¼šç»™ç”¨æˆ·[" + event.getUserId() + "]æ¨é€çŸ­ä¿¡ï¼Œå‘ŠçŸ¥è®¢å•[" + event.getOrderId() + "]å·²å‘è´§");
            // å®é™…åœºæ™¯ï¼šè°ƒç”¨çŸ­ä¿¡æœåŠ¡å•†APIæ¨é€çŸ­ä¿¡
        }
    }
}
```

#### ï¼ˆ3ï¼‰ å…·ä½“è¢«è§‚å¯Ÿè€…ä¸æµ‹è¯•ç±»

```java

import java.util.ArrayList;
import java.util.List;
import java.util.concurrent.Executors;
import java.util.concurrent.ThreadPoolExecutor;

/**
 * è®¢å•æœåŠ¡ï¼ˆå…·ä½“è¢«è§‚å¯Ÿè€…ï¼‰
 */
public class LocalOrderService {
    // è§‚å¯Ÿè€…åˆ—è¡¨
    private List<OrderStatusListener> listenerList = new ArrayList<>();
    // å¼‚æ­¥çº¿ç¨‹æ± ï¼šé¿å…é˜»å¡è®¢å•ä¸»æµç¨‹
    private ThreadPoolExecutor executor = (ThreadPoolExecutor) Executors.newFixedThreadPool(5);

    // æ³¨å†Œè§‚å¯Ÿè€…
    public void registerListener(OrderStatusListener listener) {
        if (!listenerList.contains(listener)) {
            listenerList.add(listener);
        }
    }

    // ç§»é™¤è§‚å¯Ÿè€…
    public void removeListener(OrderStatusListener listener) {
        listenerList.remove(listener);
    }

    // å¼‚æ­¥å‘å¸ƒè®¢å•çŠ¶æ€äº‹ä»¶
    public void publishOrderStatusEvent(OrderStatusEvent event) {
        System.out.println("ğŸ“¢ è®¢å•æœåŠ¡ï¼šå‘å¸ƒè®¢å•çŠ¶æ€å˜æ›´äº‹ä»¶ - " + event);
        // å¼‚æ­¥åˆ†å‘äº‹ä»¶ï¼Œä¸é˜»å¡è®¢å•ä¸»æµç¨‹
        executor.execute(() -> {
            for (OrderStatusListener listener : listenerList) {
                listener.onOrderStatusChange(event);
            }
        });
    }

    // å˜æ›´è®¢å•çŠ¶æ€
    public void changeOrderStatus(String orderId, OrderStatus oldStatus, OrderStatus newStatus, String userId) {
        // 1. ä¸šåŠ¡é€»è¾‘ï¼šæ›´æ–°è®¢å•çŠ¶æ€ï¼ˆå®é™…åœºæ™¯ï¼šæ“ä½œæ•°æ®åº“ï¼‰
        System.out.println("ğŸ”§ è®¢å•æœåŠ¡ï¼šæ›´æ–°è®¢å•[" + orderId + "]çŠ¶æ€ä¸º" + newStatus.getDesc());
        // 2. å‘å¸ƒçŠ¶æ€å˜æ›´äº‹ä»¶
        publishOrderStatusEvent(new OrderStatusEvent(orderId, oldStatus, newStatus, userId));
    }

    // å…³é—­çº¿ç¨‹æ± 
    public void shutdown() {
        executor.shutdown();
    }
}

/**
 * æµ‹è¯•ç±»
 */
public class OrderStatusTest {
    public static void main(String[] args) throws InterruptedException {
        // 1. åˆ›å»ºè®¢å•æœåŠ¡
        LocalOrderService orderService = new LocalOrderService();

        // 2. æ³¨å†Œè§‚å¯Ÿè€…
        orderService.registerListener(new StockListener());
        orderService.registerListener(new FinanceListener());
        orderService.registerListener(new LogisticsListener());
        orderService.registerListener(new UserNotifyListener());

        // 3. æ¨¡æ‹Ÿè®¢å•çŠ¶æ€å˜æ›´æµç¨‹
        String orderId = "ORDER" + System.currentTimeMillis();
        String userId = "USER10086";

        // å¾…ä»˜æ¬¾ â†’ å·²ä»˜æ¬¾
        orderService.changeOrderStatus(orderId, OrderStatus.PENDING_PAYMENT, OrderStatus.PAID, userId);
        TimeUnit.SECONDS.sleep(1);

        // å·²ä»˜æ¬¾ â†’ å¾…å‘è´§
        orderService.changeOrderStatus(orderId, OrderStatus.PAID, OrderStatus.PENDING_DELIVERY, userId);
        TimeUnit.SECONDS.sleep(1);

        // å¾…å‘è´§ â†’ å·²å‘è´§
        orderService.changeOrderStatus(orderId, OrderStatus.PENDING_DELIVERY, OrderStatus.DELIVERED, userId);
        TimeUnit.SECONDS.sleep(1);

        // å·²å‘è´§ â†’ å·²å®Œæˆ
        orderService.changeOrderStatus(orderId, OrderStatus.DELIVERED, OrderStatus.COMPLETED, userId);

        // 4. å…³é—­çº¿ç¨‹æ± 
        TimeUnit.SECONDS.sleep(2);
        orderService.shutdown();
    }
}
```

### 4. è¿è¡Œæ•ˆæœ

1. è®¢å•çŠ¶æ€ä¾æ¬¡å˜æ›´ï¼Œè®¢å•æœåŠ¡å‘å¸ƒå¯¹åº”äº‹ä»¶

2. å¯¹åº”è§‚å¯Ÿè€…ä»…å¤„ç†æŒ‡å®šçŠ¶æ€å˜æ›´ï¼ˆå¦‚åº“å­˜è§‚å¯Ÿè€…åªå¤„ç†ã€Œå¾…ä»˜æ¬¾â†’å·²ä»˜æ¬¾ã€ï¼‰

3. äº‹ä»¶åˆ†å‘ä¸ºå¼‚æ­¥æ‰§è¡Œï¼Œä¸é˜»å¡è®¢å•çŠ¶æ€æ›´æ–°æµç¨‹

4. å„ä¸šåŠ¡ç³»ç»Ÿè§£è€¦ï¼Œæ–°å¢/ç§»é™¤ä¸šåŠ¡æ“ä½œä»…éœ€æ·»åŠ /ç§»é™¤è§‚å¯Ÿè€…

## ä¸‰ã€ å®æˆ˜æ¡ˆä¾‹3ï¼šåˆ†å¸ƒå¼é…ç½®ä¸­å¿ƒå˜æ›´ç›‘å¬ï¼ˆæ ¸å¿ƒï¼šè¿œç¨‹é€šçŸ¥ + é…ç½®ç¼“å­˜æ›´æ–°ï¼‰

### 1. åœºæ™¯æè¿°

åœ¨å¾®æœåŠ¡æ¶æ„ä¸­ï¼Œé…ç½®ä¸­å¿ƒï¼ˆå¦‚ Nacos/Apolloï¼‰çš„é…ç½®å˜æ›´åï¼Œæ‰€æœ‰ä¾èµ–è¯¥é…ç½®çš„å¾®æœåŠ¡éœ€è¦å®æ—¶æ„ŸçŸ¥å¹¶æ›´æ–°æœ¬åœ°ç¼“å­˜ï¼Œé¿å…é‡å¯æœåŠ¡ã€‚ä½¿ç”¨è§‚å¯Ÿè€…æ¨¡å¼ï¼Œé…ç½®å®¢æˆ·ç«¯ç›‘å¬é…ç½®ä¸­å¿ƒå˜æ›´äº‹ä»¶ï¼Œæœ¬åœ°ç¼“å­˜è‡ªåŠ¨åˆ·æ–°ï¼ŒåŒæ—¶æ”¯æŒä¸šåŠ¡ç³»ç»Ÿè‡ªå®šä¹‰é…ç½®å˜æ›´å¤„ç†é€»è¾‘ã€‚

### 2. æ ¸å¿ƒè§’è‰²å¯¹åº”

|è§‚å¯Ÿè€…æ¨¡å¼è§’è‰²|æœ¬æ¡ˆä¾‹ç»„ä»¶|ä½œç”¨|
|---|---|---|
|æŠ½è±¡è¢«è§‚å¯Ÿè€…|`ConfigClient`ï¼ˆé…ç½®å®¢æˆ·ç«¯ï¼‰|å®šä¹‰é…ç½®ç›‘å¬ã€äº‹ä»¶å‘å¸ƒæ¥å£|
|å…·ä½“è¢«è§‚å¯Ÿè€…|`LocalConfigClient`ï¼ˆæœ¬åœ°é…ç½®å®¢æˆ·ç«¯ï¼‰|æ¨¡æ‹Ÿé…ç½®ä¸­å¿ƒè¿æ¥ï¼Œç›‘å¬é…ç½®å˜æ›´|
|æŠ½è±¡è§‚å¯Ÿè€…|`ConfigChangeListener`ï¼ˆé…ç½®å˜æ›´ç›‘å¬å™¨ï¼‰|å®šä¹‰é…ç½®å˜æ›´å¤„ç†æ¥å£|
|å…·ä½“è§‚å¯Ÿè€…1|`ConfigCacheListener`ï¼ˆé…ç½®ç¼“å­˜è§‚å¯Ÿè€…ï¼‰|é…ç½®å˜æ›´åæ›´æ–°æœ¬åœ°ç¼“å­˜|
|å…·ä½“è§‚å¯Ÿè€…2|`BusinessConfigListener`ï¼ˆä¸šåŠ¡é…ç½®è§‚å¯Ÿè€…ï¼‰|é…ç½®å˜æ›´åæ‰§è¡Œä¸šåŠ¡é€»è¾‘ï¼ˆå¦‚é‡æ–°åˆå§‹åŒ–è¿æ¥æ± ï¼‰|
|äº‹ä»¶è½½ä½“|`ConfigChangeEvent`ï¼ˆé…ç½®å˜æ›´äº‹ä»¶ï¼‰|å°è£…é…ç½®Keyã€æ—§å€¼ã€æ–°å€¼ã€å˜æ›´ç±»å‹ç­‰ä¿¡æ¯|
### 3. æ ¸å¿ƒä»£ç å®ç°ï¼ˆæ¨¡æ‹Ÿé…ç½®ä¸­å¿ƒï¼‰

#### ï¼ˆ1ï¼‰ äº‹ä»¶è½½ä½“ä¸æŠ½è±¡è§‚å¯Ÿè€…

```java

import java.util.ArrayList;
import java.util.HashMap;
import java.util.List;
import java.util.Map;
import java.util.concurrent.Executors;
import java.util.concurrent.ScheduledExecutorService;
import java.util.concurrent.TimeUnit;

/**
 * é…ç½®å˜æ›´äº‹ä»¶
 */
public class ConfigChangeEvent {
    private String configKey;        // é…ç½®Key
    private String oldValue;         // æ—§å€¼
    private String newValue;         // æ–°å€¼
    private long changeTime;         // å˜æ›´æ—¶é—´æˆ³
    private String namespace;        // å‘½åç©ºé—´ï¼ˆåŒºåˆ†ç¯å¢ƒï¼‰

    public ConfigChangeEvent(String configKey, String oldValue, String newValue, String namespace) {
        this.configKey = configKey;
        this.oldValue = oldValue;
        this.newValue = newValue;
        this.changeTime = System.currentTimeMillis();
        this.namespace = namespace;
    }

    // Getter æ–¹æ³•
    public String getConfigKey() { return configKey; }
    public String getOldValue() { return oldValue; }
    public String getNewValue() { return newValue; }
    public long getChangeTime() { return changeTime; }
    public String getNamespace() { return namespace; }

    @Override
    public String toString() {
        return String.format("é…ç½®å˜æ›´ã€%sã€‘ï¼š%s â†’ %sï¼ˆå‘½åç©ºé—´ï¼š%sï¼Œæ—¶é—´æˆ³ï¼š%dï¼‰",
                configKey, oldValue, newValue, namespace, changeTime);
    }
}

/**
 * é…ç½®å˜æ›´ç›‘å¬å™¨ï¼ˆæŠ½è±¡è§‚å¯Ÿè€…ï¼‰
 */
public interface ConfigChangeListener {
    void onConfigChange(ConfigChangeEvent event);
}
```

#### ï¼ˆ2ï¼‰ å…·ä½“è§‚å¯Ÿè€…å®ç°

```java

/**
 * å…·ä½“è§‚å¯Ÿè€…1ï¼šé…ç½®ç¼“å­˜è§‚å¯Ÿè€… - æ›´æ–°æœ¬åœ°ç¼“å­˜
 */
public class ConfigCacheListener implements ConfigChangeListener {
    // æœ¬åœ°é…ç½®ç¼“å­˜
    private static Map<String, String> configCache = new HashMap<>();

    @Override
    public void onConfigChange(ConfigChangeEvent event) {
        String key = event.getConfigKey();
        String oldValue = event.getOldValue();
        String newValue = event.getNewValue();
        // æ›´æ–°æœ¬åœ°ç¼“å­˜
        configCache.put(key, newValue);
        System.out.println("ğŸ—„ï¸  é…ç½®ç¼“å­˜æ›´æ–°ï¼šKey=" + key + "ï¼Œæ—§å€¼=" + oldValue + "ï¼Œæ–°å€¼=" + newValue);
        System.out.println("ğŸ—„ï¸  å½“å‰ç¼“å­˜ï¼š" + configCache);
    }

    // è·å–ç¼“å­˜é…ç½®
    public static String getConfig(String key) {
        return configCache.get(key);
    }
}

/**
 * å…·ä½“è§‚å¯Ÿè€…2ï¼šä¸šåŠ¡é…ç½®è§‚å¯Ÿè€… - æ‰§è¡Œä¸šåŠ¡é€»è¾‘
 */
public class BusinessConfigListener implements ConfigChangeListener {
    @Override
    public void onConfigChange(ConfigChangeEvent event) {
        // ä»…å¤„ç†æ•°æ®åº“è¿æ¥æ± é…ç½®å˜æ›´
        if ("spring.datasource.max-active".equals(event.getConfigKey())) {
            System.out.println("ğŸ¢ ä¸šåŠ¡ç³»ç»Ÿï¼šæ•°æ®åº“è¿æ¥æ± æœ€å¤§è¿æ¥æ•°å˜æ›´ï¼Œé‡æ–°åˆå§‹åŒ–è¿æ¥æ± ï¼ˆæ—§å€¼ï¼š" + event.getOldValue() + "ï¼Œæ–°å€¼ï¼š" + event.getNewValue() + "ï¼‰");
            // å®é™…åœºæ™¯ï¼šå…³é—­æ—§è¿æ¥æ± ï¼Œåˆå§‹åŒ–æ–°è¿æ¥æ± 
        }
    }
}
```

#### ï¼ˆ3ï¼‰ å…·ä½“è¢«è§‚å¯Ÿè€…ä¸æµ‹è¯•ç±»

```java

/**
 * é…ç½®å®¢æˆ·ç«¯ï¼ˆå…·ä½“è¢«è§‚å¯Ÿè€…ï¼‰- æ¨¡æ‹Ÿé…ç½®ä¸­å¿ƒç›‘å¬
 */
public class LocalConfigClient {
    private List<ConfigChangeListener> listenerList = new ArrayList<>();
    private Map<String, String> configMap = new HashMap<>(); // æ¨¡æ‹Ÿé…ç½®ä¸­å¿ƒé…ç½®
    private ScheduledExecutorService scheduler = Executors.newSingleThreadScheduledExecutor();

    public LocalConfigClient() {
        // åˆå§‹åŒ–é»˜è®¤é…ç½®
        configMap.put("spring.datasource.url", "jdbc:mysql://localhost:3306/test");
        configMap.put("spring.datasource.max-active", "10");
        configMap.put("server.port", "8080");
        // åˆå§‹åŒ–æœ¬åœ°ç¼“å­˜
        configMap.forEach((k, v) -> ConfigCacheListener.configCache.put(k, v));
    }

    // æ³¨å†Œè§‚å¯Ÿè€…
    public void registerListener(ConfigChangeListener listener) {
        listenerList.add(listener);
    }

    // å‘å¸ƒé…ç½®å˜æ›´äº‹ä»¶
    public void publishConfigChangeEvent(ConfigChangeEvent event) {
        for (ConfigChangeListener listener : listenerList) {
            listener.onConfigChange(event);
        }
    }

    // æ¨¡æ‹Ÿé…ç½®ä¸­å¿ƒå˜æ›´ï¼ˆå¤–éƒ¨è°ƒç”¨ï¼Œå¦‚é…ç½®ä¸­å¿ƒæ¨é€ï¼‰
    public void updateConfig(String key, String value, String namespace) {
        String oldValue = configMap.get(key);
        // æ›´æ–°é…ç½®ä¸­å¿ƒé…ç½®
        configMap.put(key, value);
        // å‘å¸ƒå˜æ›´äº‹ä»¶
        publishConfigChangeEvent(new ConfigChangeEvent(key, oldValue, value, namespace));
    }

    // å¯åŠ¨ç›‘å¬ï¼ˆæ¨¡æ‹Ÿé…ç½®ä¸­å¿ƒé•¿è½®è¯¢ï¼‰
    public void startListen() {
        System.out.println("ğŸ” é…ç½®å®¢æˆ·ç«¯å¯åŠ¨ï¼Œç›‘å¬é…ç½®å˜æ›´...");
        // æ¨¡æ‹Ÿ5ç§’åé…ç½®å˜æ›´ï¼ˆæ•°æ®åº“è¿æ¥æ± æœ€å¤§è¿æ¥æ•°ä»10â†’20ï¼‰
        scheduler.schedule(() -> {
            updateConfig("spring.datasource.max-active", "20", "dev");
        }, 5, TimeUnit.SECONDS);

        // æ¨¡æ‹Ÿ10ç§’åé…ç½®å˜æ›´ï¼ˆç«¯å£ä»8080â†’8081ï¼‰
        scheduler.schedule(() -> {
            updateConfig("server.port", "8081", "dev");
        }, 10, TimeUnit.SECONDS);
    }

    // åœæ­¢ç›‘å¬
    public void stopListen() {
        scheduler.shutdown();
    }
}

/**
 * æµ‹è¯•ç±»
 */
public class ConfigChangeTest {
    public static void main(String[] args) throws InterruptedException {
        // 1. åˆ›å»ºé…ç½®å®¢æˆ·ç«¯
        LocalConfigClient configClient = new LocalConfigClient();

        // 2. æ³¨å†Œè§‚å¯Ÿè€…
        configClient.registerListener(new ConfigCacheListener());
        configClient.registerListener(new BusinessConfigListener());

        // 3. å¯åŠ¨é…ç½®ç›‘å¬
        configClient.startListen();

        // 4. è¿è¡Œ15ç§’ååœæ­¢
        TimeUnit.SECONDS.sleep(15);
        configClient.stopListen();
    }
}
```

### 4. è¿è¡Œæ•ˆæœ

1. é…ç½®å®¢æˆ·ç«¯å¯åŠ¨åï¼Œ5ç§’åæ¨¡æ‹Ÿæ•°æ®åº“è¿æ¥æ± é…ç½®å˜æ›´ï¼Œä¸¤ä¸ªè§‚å¯Ÿè€…åŒæ—¶è§¦å‘

2. é…ç½®ç¼“å­˜è§‚å¯Ÿè€…æ›´æ–°æœ¬åœ°ç¼“å­˜ï¼Œä¸šåŠ¡é…ç½®è§‚å¯Ÿè€…é‡æ–°åˆå§‹åŒ–è¿æ¥æ± 

3. 10ç§’åæ¨¡æ‹Ÿç«¯å£é…ç½®å˜æ›´ï¼Œä»…é…ç½®ç¼“å­˜è§‚å¯Ÿè€…è§¦å‘æ›´æ–°

4. æœ¬åœ°ç¼“å­˜å®æ—¶åŒæ­¥é…ç½®ä¸­å¿ƒå˜æ›´ï¼Œæ— éœ€é‡å¯æœåŠ¡

## å››ã€ è§‚å¯Ÿè€…æ¨¡å¼å®æˆ˜æ€»ç»“

### 1. æ ¸å¿ƒé€‚ç”¨åœºæ™¯

- ä¸€å¯¹å¤šçš„çŠ¶æ€é€šçŸ¥åœºæ™¯ï¼ˆå¦‚ç›‘æ§ã€å‘Šè­¦ã€è®¢å•çŠ¶æ€å˜æ›´ï¼‰

- ä¸šåŠ¡è§£è€¦åœºæ™¯ï¼ˆå¦‚ç”µå•†ç³»ç»Ÿä¸­è®¢å•ä¸åº“å­˜ã€è´¢åŠ¡çš„è§£è€¦ï¼‰

- åŠ¨æ€æ‰©å±•åœºæ™¯ï¼ˆæ–°å¢ä¸šåŠ¡æ“ä½œä»…éœ€æ·»åŠ è§‚å¯Ÿè€…ï¼Œæ— éœ€ä¿®æ”¹æ ¸å¿ƒé€»è¾‘ï¼‰

- å¼‚æ­¥é€šçŸ¥åœºæ™¯ï¼ˆé¿å…é˜»å¡ä¸»æµç¨‹ï¼Œæé«˜ç³»ç»Ÿååé‡ï¼‰

### 2. å®æˆ˜æ³¨æ„äº‹é¡¹

1. **äº‹ä»¶åˆ†å‘æ–¹å¼**ï¼šåŒæ­¥åˆ†å‘ï¼ˆå¼ºä¸€è‡´æ€§éœ€æ±‚ï¼Œå¦‚ç›‘æ§å‘Šè­¦ï¼‰ã€å¼‚æ­¥åˆ†å‘ï¼ˆé«˜æ€§èƒ½éœ€æ±‚ï¼Œå¦‚è®¢å•çŠ¶æ€å˜æ›´ï¼‰

2. **è§‚å¯Ÿè€…é¡ºåº**ï¼šè‹¥éœ€ä¿è¯è§‚å¯Ÿè€…æ‰§è¡Œé¡ºåºï¼Œå¯é€šè¿‡æœ‰åºåˆ—è¡¨ç®¡ç†è§‚å¯Ÿè€…

3. **å¼‚å¸¸å¤„ç†**ï¼šè§‚å¯Ÿè€…æ‰§è¡Œå¼‚å¸¸éœ€æ•è·ï¼Œé¿å…å½±å“å…¶ä»–è§‚å¯Ÿè€…å’Œè¢«è§‚å¯Ÿè€…

4. **å†…å­˜æ³„æ¼**ï¼šä¸å†ä½¿ç”¨çš„è§‚å¯Ÿè€…éœ€åŠæ—¶ç§»é™¤ï¼Œé¿å…å†…å­˜æ³„æ¼

5. **åˆ†å¸ƒå¼åœºæ™¯**ï¼šå¯ç»“åˆæ¶ˆæ¯é˜Ÿåˆ—ï¼ˆå¦‚ RocketMQ/Kafkaï¼‰å®ç°è·¨æœåŠ¡çš„è§‚å¯Ÿè€…æ¨¡å¼

### 3. ä¸å…¶ä»–æ¨¡å¼çš„ç»“åˆ

- ä¸å•ä¾‹æ¨¡å¼ç»“åˆï¼šé…ç½®å®¢æˆ·ç«¯ã€ç³»ç»Ÿç›‘æ§ç­‰æ ¸å¿ƒè¢«è§‚å¯Ÿè€…é€šå¸¸ä¸ºå•ä¾‹

- ä¸å·¥å‚æ¨¡å¼ç»“åˆï¼šè§‚å¯Ÿè€…çš„åˆ›å»ºå¯é€šè¿‡å·¥å‚æ¨¡å¼ç»Ÿä¸€ç®¡ç†

- ä¸çº¿ç¨‹æ± ç»“åˆï¼šå¼‚æ­¥äº‹ä»¶åˆ†å‘ä¾èµ–çº¿ç¨‹æ± æé«˜æ€§èƒ½

---

éœ€è¦æˆ‘å¸®ä½ æ•´ç†**è¿™3ä¸ªæ¡ˆä¾‹çš„å¯è¿è¡Œé¡¹ç›®ç»“æ„**ï¼Œæ–¹ä¾¿ä½ ç›´æ¥å¯¼å…¥ IDE è°ƒè¯•å—ï¼Ÿ
> ï¼ˆæ³¨ï¼šæ–‡æ¡£éƒ¨åˆ†å†…å®¹å¯èƒ½ç”± AI ç”Ÿæˆï¼‰